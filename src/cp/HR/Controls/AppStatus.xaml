<UserControl x:Class="HR.Controls.AppStatus"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:local="clr-namespace:HR.Controls"
             mc:Ignorable="d"
             d:DesignHeight="40" d:DesignWidth="800">
    <UserControl.Resources>
        <local:StatusToVisibilityConverter x:Key="StatusToVisibilityConverter" TargetStatus="Success"/>
        <Style TargetType="Control">
            <Setter Property="Background" Value="#2f2f2f"/>
        </Style>
        <Style TargetType="TextBlock">
            <Setter Property="FontFamily" Value="{StaticResource Roboto}"/>
            <Setter Property="Margin" Value="5 0"/>
        </Style>
        <Style TargetType="Viewbox">
            <Setter Property="Stretch" Value="Fill"/>
            <Setter Property="Height" Value="15"/>
            <Setter Property="Margin" Value="5 0"/>
            <Setter Property="Width" Value="15"/>
        </Style>
    </UserControl.Resources>
    <DockPanel x:Name="Footer" MinHeight="40" Background="#2f2f2f">
        <ProgressBar DockPanel.Dock="Right" Height="10" Width="100" Margin="10" IsIndeterminate="True"
                     Visibility="{Binding Status, Converter={StaticResource StatusToVisibilityConverter}, ConverterParameter=Progress}"
                     />
        <StatusBar Background="#2f2f2f" Padding="5" Foreground="LightGray">
            <WrapPanel>
                <Viewbox ToolTip="Завершено успешно"
                         Visibility="{Binding Status, Converter={StaticResource StatusToVisibilityConverter}, ConverterParameter=Success}"
                         >
                    <Path Fill="#50b319" Data="M504 256c0 137-111 248-248 248S8 393 8 256 119 8 256 8s248 111 248 248zM227.3 387.3l184-184c6.2-6.2 6.2-16.4 0-22.6l-22.6-22.6c-6.2-6.2-16.4-6.2-22.6 0L216 308.1l-70.1-70.1c-6.2-6.2-16.4-6.2-22.6 0l-22.6 22.6c-6.2 6.2-6.2 16.4 0 22.6l104 104c6.2 6.2 16.4 6.2 22.6 0z"/>
                </Viewbox>
                <Viewbox ToolTip="Информация"
                         Visibility="{Binding Status, Converter={StaticResource StatusToVisibilityConverter}, ConverterParameter=Info}"
                         >
                    <Path Fill="#21a0df" Data="M256 8C119 8 8 119.1 8 256c0 137 111 248 248 248s248-111 248-248C504 119.1 393 8 256 8zm0 110c23.2 0 42 18.8 42 42s-18.8 42-42 42-42-18.8-42-42 18.8-42 42-42zm56 254c0 6.6-5.4 12-12 12h-88c-6.6 0-12-5.4-12-12v-24c0-6.6 5.4-12 12-12h12v-64h-12c-6.6 0-12-5.4-12-12v-24c0-6.6 5.4-12 12-12h64c6.6 0 12 5.4 12 12v100h12c6.6 0 12 5.4 12 12v24z"/>
                </Viewbox>
                <Viewbox ToolTip="В процессе" Height="14" Width="10" x:Name="Prosess1" Visibility="Visible">
                    <Path Fill="#80e6ec" Data="M360 0H24C10.7 0 0 10.7 0 24v16c0 13.3 10.7 24 24 24 0 91 51 167.7 120.8 192C75 280.3 24 357 24 448c-13.3 0-24 10.7-24 24v16c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24v-16c0-13.3-10.7-24-24-24 0-91-51-167.7-120.8-192C309 231.7 360 155 360 64c13.3 0 24-10.7 24-24V24c0-13.3-10.7-24-24-24zm-64 448H88c0-77.5 46.2-144 104-144 57.8 0 104 66.5 104 144z"/>
                </Viewbox>
                <Viewbox ToolTip="В процессе" Height="14" Width="10" x:Name="Prosess2" Visibility="Collapsed">
                    <Path Fill="#80e6ec" Data="M360 0H24C10.7 0 0 10.7 0 24v16c0 13.3 10.7 24 24 24 0 91 51 167.7 120.8 192C75 280.3 24 357 24 448c-13.3 0-24 10.7-24 24v16c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24v-16c0-13.3-10.7-24-24-24 0-91-51-167.7-120.8-192C309 231.7 360 155 360 64c13.3 0 24-10.7 24-24V24c0-13.3-10.7-24-24-24zm-75.1 384H99.1c17.1-46.8 52.1-80 92.9-80 40.8 0 75.9 33.2 92.9 80zm0-256H99.1C92 108.5 88 86.7 88 64h208c0 22.8-4 44.6-11.1 64z"/>
                </Viewbox>
                <Viewbox ToolTip="В процессе" Height="14" Width="10" x:Name="Prosess3" Visibility="Collapsed">
                    <Path Fill="#80e6ec" Data="M360 64c13.3 0 24-10.7 24-24V24c0-13.3-10.7-24-24-24H24C10.7 0 0 10.7 0 24v16c0 13.3 10.7 24 24 24 0 91 51 167.7 120.8 192C75 280.3 24 357 24 448c-13.3 0-24 10.7-24 24v16c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24v-16c0-13.3-10.7-24-24-24 0-91-51-167.7-120.8-192C309 231.7 360 155 360 64zM192 208c-57.8 0-104-66.5-104-144h208c0 77.9-46.5 144-104 144z"/>
                </Viewbox>
                <Viewbox ToolTip="Предупреждение"
                         Visibility="{Binding Status, Converter={StaticResource StatusToVisibilityConverter}, ConverterParameter=Warning}"
                         >
                    <Path Fill="#f4b02a" Data="M569.5 440C588 472 564.8 512 527.9 512H48.1c-36.9 0-60-40.1-41.6-72L246.4 24c18.5-32 64.7-32 83.2 0l239.9 416zM288 354c-25.4 0-46 20.6-46 46s20.6 46 46 46 46-20.6 46-46-20.6-46-46-46zm-43.7-165.3l7.4 136c.3 6.4 5.6 11.3 12 11.3h48.5c6.4 0 11.6-5 12-11.3l7.4-136c.4-6.9-5.1-12.7-12-12.7h-63.4c-6.9 0-12.4 5.8-12 12.7z"/>
                </Viewbox>
                <Viewbox ToolTip="Ошибка"
                         Visibility="{Binding Status, Converter={StaticResource StatusToVisibilityConverter}, ConverterParameter=Error}"
                         >
                    <Path Fill="#e53935" Data="M504 256c0 137-111 248-248 248S8 393 8 256C8 119.1 119 8 256 8s248 111.1 248 248zm-248 50c-25.4 0-46 20.6-46 46s20.6 46 46 46 46-20.6 46-46-20.6-46-46-46zm-43.7-165.3l7.4 136c.3 6.4 5.6 11.3 12 11.3h48.5c6.4 0 11.6-5 12-11.3l7.4-136c.4-6.9-5.1-12.7-12-12.7h-63.4c-6.9 0-12.4 5.8-12 12.7z"/>
                </Viewbox>
                <TextBlock Text="{Binding Timestamp, StringFormat=yyyy-MM-dd HH:mm:ss}" FontWeight="Light" />
                <TextBlock Text="{Binding Message}" />
            </WrapPanel>
        </StatusBar>
    </DockPanel>
</UserControl>
